<div class="main-wrap--search" ng-controller="SearchController as searchCtrl">
    <form class="search" name="seachForm" novalidate>

        <search-input-block type="is" type-pos="before" property="available" ng-model="$storage.params.isAvailable"></search-input-block>

        <hr>

        <label>Price range:</label>
        <rzslider class="search__price-range" rz-slider-floor="$storage.params.priceRange.floor" rz-slider-ceil="$storage.params.priceRange.ceil" rz-slider-model="$storage.params.priceRange.min" rz-slider-high="$storage.params.priceRange.max" rz-slider-step="{{$storage.params.priceRange.step}}"></rzslider>

        <hr>

        <search-input-block type="has" type-pos="before" property="balcony" ng-model="$storage.params.hasBalcony"></search-input-block>
        <search-input-block type="has" type-pos="before" property="garden" ng-model="$storage.params.hasGarden"></search-input-block>
        <search-input-block type="allowed" type-pos="after" property="pets" ng-model="$storage.params.allowsPets"></search-input-block>
        <search-input-block type="has" type-pos="before" property="sauna" ng-model="$storage.params.hasSauna"></search-input-block>

        <hr>

        <div class="search__input-block">
            <label for="orderby">Order by:</label><a href class="search__orderby-toggle" ng-click="reverseOrder()"><span ng-hide="$storage.params.reverseOrder">⬆︎</span><span ng-show="$storage.params.reverseOrder">⬇︎</span></a>
            <select id="orderby" ng-model="$storage.params.orderby" class="search__select--orderby">
                <option value="">Select order</option>
                <option value="rentalCost">Price</option>
                <option value="dateAdded">Date added</option>
                <option value="address">Alphabetical</option>
            </select>
        </div>

        <hr>

        <strong ng-show="results.count > 0">{{results.count}}</strong><span ng-show="results.count === 0">No</span> results found

        <hr>

        <a href="" ng-click="resetSearch()">Reset search</a>

        <hr ng-show="$storage.local.likes.length">

        <section class="favorites" ng-show="$storage.local.likes.length">
            <h3>My favourites</h3>
            <a href="#/homes/{{like}}" ng-repeat="like in $storage.local.likes">I like {{like.address}}<br></a>
        </section>
    </form>
    <div class="results" ng-controller="SearchResultsController as resCtrl">
        <single-result></single-result>
        <p ng-show="results.count === 0">No homes match your search requirements,<br>
        try <a href ng-click="resetSearch()">broadening your search</a>.</p>
    </div>
</div>